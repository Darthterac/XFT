javascript:(function(){if(window.NyxXApiLolV1&&window.NyxXApiLolV1.destroy){window.NyxXApiLolV1.destroy()}const a="NyxXApiLolV1_snapshots";const b={handles:new Set(),snapshots:[],intervalId:null,ui:null};let c=false;function d(){try{const k=localStorage.getItem(a);if(!k)return;const l=JSON.parse(k);if(Array.isArray(l)){b.snapshots=l}}catch(k){console.warn("Nyx-X-API-LOL-V1: failed to load snapshots",k)}}function e(){try{localStorage.setItem(a,JSON.stringify(b.snapshots))}catch(k){console.warn("Nyx-X-API-LOL-V1: failed to save snapshots",k)}}function f(k){try{return new Date(k).toLocaleString()}catch{return String(k)}}function g(){const k=document.querySelectorAll('[data-testid="userFollowIndicator"] span');let l=0;const m=/^@[A-Za-z0-9_]{2,}$/;k.forEach(n=>{const o=n.textContent.trim();if(o!=="Follows you")return;const p=n.closest('[data-testid="userFollowIndicator"]');if(!p)return;const q=p.closest("div.css-175oi2r.r-1awozwy.r-18u37iz.r-1wbh5a2")||p.parentElement?.parentElement||p.parentElement;if(!q)return;const r=Array.from(q.querySelectorAll("span")).find(s=>m.test(s.textContent.trim()));if(!r)return;const t=r.textContent.trim();if(!b.handles.has(t)){b.handles.add(t);l++}});if(l>0){h();i(`Found ${b.handles.size} Followers • Snapshots: ${b.snapshots.length}`)}}function h(){if(!b.ui)return;const k=b.ui.textarea;k.value=Array.from(b.handles).sort().map(l=>l+"    - Follows you").join("\n")}function i(k){if(!b.ui)return;b.ui.status.textContent=k}function j(){if(b.intervalId)return;g();b.intervalId=setInterval(g,1000);i(`Scanning every 1s… scroll your followers • Snapshots: ${b.snapshots.length}`)}function aa(){if(!b.intervalId)return;clearInterval(b.intervalId);b.intervalId=null;i(`Stopped scanning • Snapshots: ${b.snapshots.length}`)}function ab(){const k=Array.from(b.handles).sort().map(l=>l+"    - Follows you").join("\n");if(!k){i("Nothing to copy yet");return}if(navigator.clipboard&&navigator.clipboard.writeText){navigator.clipboard.writeText(k).then(()=>i("Copied current followers to clipboard ✅")).catch(l=>{console.error(l);ac(k)})}else ac(k)}function ac(k){const l=document.createElement("textarea");l.value=k;document.body.appendChild(l);l.select();try{document.execCommand("copy");i("Copied to clipboard (fallback) ✅")}catch(m){console.error(m);i("Copy failed ❌")}document.body.removeChild(l)}function ad(){if(b.handles.size===0){i("No followers detected yet – press Start and scroll followers to capture");return}const k=Date.now();const l={id:k,ts:k,handles:Array.from(b.handles).sort()};b.snapshots.push(l);e();i(`Snapshot #${b.snapshots.length} saved at ${f(k)}`);if(b.ui&&b.ui.textarea){b.ui.textarea.value=`=== Snapshot #${b.snapshots.length} ===\nTime: ${f(k)}\nCount: ${l.handles.length}\n\n${l.handles.join("\n")}`}}function ae(){if(b.snapshots.length===0){i("No snapshots to export yet");return}const k={exportedAt:new Date().toISOString(),count:b.snapshots.length,snapshots:b.snapshots};const l=JSON.stringify(k,null,2);try{const m=new Blob([l],{type:"application/json"});const n=URL.createObjectURL(m);const o=document.createElement("a");const p=new Date().toISOString().replace(/[:.]/g,"-");o.href=n;o.download=`nyx-x-api-followers-snapshots-${p}.json`;document.body.appendChild(o);o.click();document.body.removeChild(o);URL.revokeObjectURL(n);i(`Exported ${b.snapshots.length} snapshots as JSON ✅`)}catch(m){console.error(m);i("Export failed ❌ – see console")}}function af(){if(b.snapshots.length===0){i("No snapshots yet – take one first");return}if(b.handles.size===0){i("No current followers – press Start and scroll first");return}const k=b.snapshots[b.snapshots.length-1];const l=new Set(k.handles);const m=new Set(b.handles);const n=[];const o=[];l.forEach(p=>{if(!m.has(p))n.push(p)});m.forEach(p=>{if(!l.has(p))o.push(p)});n.sort();o.sort();const q=[`=== Diff vs last snapshot #${b.snapshots.length} ===`,`Snapshot time: ${f(k.ts)}`,`Current count: ${k.handles.length}`,`Snapshot count: ${b.handles.size}`,"",`Followers lost since last snapshot (${o.length}):`,o.length?o.join("\n"):"(none)","",`Followers gained since last snapshot (${n.length}):`,n.length?n.join("\n"):"(none)"];if(b.ui&&b.ui.textarea)b.ui.textarea.value=q.join("\n");i(`Diff computed – Lost: ${o.length}, Gained: ${n.length}`)}function ag(){if(b.snapshots.length===0){i("No snapshots yet – nothing to edit");return}if(!b.ui||!b.ui.textarea)return;const k=b.snapshots[b.snapshots.length-1];const l=b.ui.textarea;const m=/^@[A-Za-z0-9_]{2,}$/;if(!c){l.value=k.handles.join("\n");c=true;i(`Editing last snapshot #${b.snapshots.length} – modify list and click "Edit last" again to save`)}else{const n=l.value.split("\n").map(o=>o.trim()).filter(Boolean).filter(o=>m.test(o));const o=Array.from(new Set(n)).sort();k.handles=o;e();c=false;i(`Saved edits to snapshot #${b.snapshots.length} (handles: ${k.handles.length})`)}}function ah(){b.snapshots=[];e();i("All snapshots deleted")}function ai(){const k=document.createElement("div");k.style.position="fixed";k.style.top="40px";k.style.right="40px";k.style.width="360px";k.style.height="460px";k.style.zIndex="999999";k.style.background="#111";k.style.color="#eee";k.style.border="1px solid #444";k.style.borderRadius="8px";k.style.boxShadow="0 0 12px rgba(0,0,0,0.7)";k.style.fontFamily="system-ui,-apple-system,BlinkMacSystemFont,sans-serif";k.style.fontSize="12px";k.style.display="flex";k.style.flexDirection="column";k.style.resize="both";k.style.overflow="hidden";const l=document.createElement("div");l.textContent="X followers tool v1.1.0 (Nyx)";l.style.padding="6px 8px";l.style.cursor="move";l.style.background="#222";l.style.borderBottom="1px solid #0adf1bff";l.style.display="flex";l.style.alignItems="center";l.style.justifyContent="space-between";const m=document.createElement("span");m.textContent="×";m.style.cursor="pointer";m.style.paddingLeft="8px";m.onclick=()=>{aa();if(k.parentNode)k.parentNode.removeChild(k)};l.appendChild(m);const n=document.createElement("div");n.style.display="flex";n.style.gap="4px";n.style.padding="4px 6px";function ao(p,q){p.textContent=q;p.style.flex="1";p.style.fontSize="11px";p.style.padding="3px 4px";p.style.cursor="pointer"}const o=document.createElement("button");const p=document.createElement("button");const q=document.createElement("button");const r=document.createElement("button");ao(o,"Start");ao(p,"Stop");ao(q,"Copy");ao(r,"Clear");o.onclick=j;p.onclick=aa;q.onclick=ab;r.onclick=()=>{b.handles.clear();h();i(`Cleared current list • Snapshots: ${b.snapshots.length}`)};n.appendChild(o);n.appendChild(p);n.appendChild(q);n.appendChild(r);const s=document.createElement("div");s.style.display="flex";s.style.gap="4px";s.style.padding="0 6px 4px 6px";s.style.flexWrap="wrap";const t=document.createElement("button");const u=document.createElement("button");const v=document.createElement("button");const w=document.createElement("button");const x=document.createElement("button");[t,u,v,w,x].forEach(y=>{y.style.flex="1";y.style.fontSize="11px";y.style.padding="3px 4px";y.style.cursor="pointer";y.style.marginTop="2px"});t.textContent="Snapshot";u.textContent="Export JSON";v.textContent="Diff vs last";w.textContent="Edit last";x.textContent="Delete snaps";t.onclick=ad;u.onclick=ae;v.onclick=af;w.onclick=ag;x.onclick=ah;s.appendChild(t);s.appendChild(u);s.appendChild(v);s.appendChild(w);s.appendChild(x);const y=document.createElement("div");y.style.padding="2px 6px";y.style.fontSize="11px";y.style.borderTop="1px solid #333";y.style.borderBottom="1px solid #333";y.textContent="Idle – press Start and scroll your followers.";const z=document.createElement("textarea");z.style.flex="1";z.style.margin="4px 6px 6px 6px";z.style.width="calc(100% - 12px)";z.style.resize="none";z.style.background="#000";z.style.color="#0f0";z.style.border="1px solid #333";z.style.fontFamily="monospace";z.style.fontSize="11px";k.appendChild(l);k.appendChild(n);k.appendChild(s);k.appendChild(y);k.appendChild(z);document.body.appendChild(k);aj(k,l);b.ui={panel:k,textarea:z,status:y}}function aj(k,l){let m=false;let n=0,o=0,p=0,q=0;l.addEventListener("mousedown",r=>{m=true;n=r.clientX;o=r.clientY;const s=k.getBoundingClientRect();p=s.left;q=s.top;k.style.left=s.left+"px";k.style.top=s.top+"px";k.style.right="auto";document.addEventListener("mousemove",t);document.addEventListener("mouseup",u);r.preventDefault()});function t(r){if(!m)return;const s=r.clientX-n;const u=r.clientY-o;k.style.left=p+s+"px";k.style.top=q+u+"px"}function u(){if(!m)return;m=false;document.removeEventListener("mousemove",t);document.removeEventListener("mouseup",u)}}window.NyxXApiLolV1={destroy:function(){aa();if(b.ui&&b.ui.panel&&b.ui.panel.parentNode)b.ui.panel.parentNode.removeChild(b.ui.panel);b.handles.clear()}};d();ai();i(`Idle – press Start and scroll your followers • Snapshots: ${b.snapshots.length}`)})();
